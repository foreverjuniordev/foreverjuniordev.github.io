webpackJsonp([2],{180:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),o=(r.n(i),r(5)),c=r(17),s=r(53),m=r(189),u=r(190),p=r(191),f=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={},r}return l(t,e),f(t,[{key:"componentDidMount",value:function(){this.props.loadHomeListsDispatch()}},{key:"render",value:function(){var e=this.props.dataState;return i.createElement("div",{className:"home"},i.createElement("div",{className:"home-section"},i.createElement("div",{className:"latest"},i.createElement("h1",null,i.createElement(c.a,{id:"home.latest"})),i.createElement("div",{className:"latest-details-wrap"},i.createElement(m.a,null)),i.createElement("div",{className:"latest-list"},Object.keys(e.latest).length?i.createElement(p.a,{dataRef:e.latest,link:!0,load:!0,vertical:!1,del:!1,info:!1,dots:!0,list:"latest",ipp:"6",carousel:!0}):i.createElement(c.a,{id:"home.empty"}))),i.createElement("div",{className:"watch-later"},i.createElement("h1",null,i.createElement(c.a,{id:"home.watch"})),Object.keys(e.watchLater).length?i.createElement(p.a,{dataRef:e.watchLater,link:!1,load:!1,vertical:!0,del:!0,info:!0,dots:!0,list:"main",ipp:"4"}):i.createElement(c.a,{id:"home.empty"}))),i.createElement("div",{className:"home-section"},i.createElement("div",{className:"recomm"},i.createElement("h1",null,i.createElement(c.a,{id:"home.recomm"})),i.createElement("div",{className:"recomm-details-wrap"},i.createElement(u.a,null)),i.createElement("div",{className:"recomm-list"},Object.keys(e.recomm).length?i.createElement(p.a,{dataRef:e.recomm,link:!0,load:!0,vertical:!1,del:!0,info:!1,dots:!0,list:"recomm",ipp:"8",carousel:!0}):i.createElement(c.a,{id:"home.empty"})))))}}]),t}(i.Component),h=function(e){return{dataState:e.dataReducer}},b=function(e){return{loadHomeListsDispatch:function(){return e(Object(s.c)())}}};t.default=Object(o.b)(h,b)(d)},185:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALYAAAEMBAMAAACb+FGQAAAAIVBMVEWkpKS/v7+7u7upqam0tLS4uLixsbGrq6u2travr6+tra3iLoC8AAAFIUlEQVR42u2ZSW8TQRCFK55440QPNmCfGLMIcRpiUAQnDCYspzisRwwoiThNWCLCKQEE5mazJBKnsAn4l9gmmXYv46rxZCQk6rtO9FKuqu563Q0MwzAMwzAMwzAMwzAMwzAMwzAMw/yvnH+4IHaovd7yYc9wvreEgvsmgL3huydMbu9F7Ps2hBX3EiTluYjkRMLQ34sxHE6Sdee+UKjVhEJ5e3LphiJ0rQ7grL5Ukt6FCVGkD/qyAsnFe2KEkizcY+XXTFTQs0p8QeTvgfgUxShHlJZXPt2A2LSUsEHhiyJOTbk9qWI/KOSUj6UkGTFDU3eYoxCLtlBTorGifo7VK9NCoQIaGaFwCGKg7X0HkP8tgthhm6WUxdT/OZk2pl0UGj69SZCwZNxybRE5LQRSq6zQKAOK2b321TEldO4BiYIwQApCr2ZPGKyDijABEsKkqqfb5AKxuU0CfWlNlpQpgQVesA594sIZ/5MdT9jwY6dbDl1j+tO70BxYJx89mV27GIo/gCH5xsj3+tplZWNAyGha58LhdmyrXj+/7O1+v6L5xSp5wZeD8Tlwt/UClcml7I7WDqntTuTU+X4U6bmqZVfcJraJH+knbDpt2srM2zbVjNCo2PaAeXQu2EJwhMQqQ2vCaWtZNpA12MN2FFm3UkRjHlv27O02RXISWWsEmd3mydn9SoG0eDLWzBXCTGxEz+YKSfuItQpu6NYM7SKijccdtjJZm57v+d32r1p/V5WkXbHPIvfDbMPuKTJon8jMYrPI6FFSf+es2w421D3Suszblm8BMXE5mid0bAeFNjJ4V4gOxTM3oyLiRvLU81rDPMI0EDPUppqIFeO4+9VqdaTSMzHEpc/5g75xhXJ3bvGqZxzwf8jDN9kOlpf8gYUIt+4TwzQ4v8JJf334/SJmCO0zxj2+IEf8nbDhPOt3sY5LmyZVH/w5YcV30JQYpx1zB5mxmiHYRB3yvSxuJD1hcghOoG2y37GFjVv0+Ty+x1ZtS+WIXm8TP0OYxZDBfbtZ7wr0CNrrZlRlc7823RDFQxwwt72quXh1oEDRdmEaO4PZ/qJH8j7z0MLvODQCh+arSpCJq12BKaJn64IXMyf3wCN6tipk4tXyIGTJfjAAD+lBPewW2bNVIRtn7VQgS/dsoguNGGs+gBbds4kS7FOyUhqXknWYEWTPNvz7QrSRcrSM5IlDLRdeg/YibzBWtMv1NvFAvy+MxlEKdiqqubvhJfw8eRS/gryS8jv2NXnpbzTuzUc+oHgyoKIU1z2EjMBp9YU/DK3b7+atWk3Ujs8F2ONIOZDiqveRvO1nrvzXp4x+caM9m3ROxZbQ0BICT68MXiAve0IBvwor+drLlPVVKr+8QL0snNYezJ7KkGyvjOfkOxWu7SihdftxXbT62EH5nNUFYYX2+HJpkE5D/fjSQFk+mlK1T1teKWc/jgRYe/NNPvTawQy46oXBebHZ7LP4uQ4DVsd20LiTmqmu4Ky9FGOhPpLsLOm6FO4vEwTqZa908p1ms3OrJgggx9dEQCTtFLWzKWqDl6L2TIraToracDpFbcdLTxuyKWpDI0XtYoraMJOidvys1G51mnMPm1cXPEU7ca+cnPvpQ8gsYBTJwks+xOWMRxG+5sMk5FDxm99gUorjxW8HkID8hjCRL27JcD6JCI4lClo+BJq4VyAxdp/jvvNhr1hTDPZJ5fyRHOf8ZvNqp9NpLm75wDAMwzAMwzAMwzAMwzAMwzAMwzDMP80ffHmkgUtKo0cAAAAASUVORK5CYII="},186:function(e,t,r){e.exports=r.p+"static/media/ic_closed_caption_white_24px.52184cab.svg"},189:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=r(0),o=(r.n(i),r(5)),c=r(51),s=r(186),m=r.n(s),u=r(177),p=r.n(u),f=r(178),d=r.n(f),h=r(179),b=r.n(h),v=r(185),E=r.n(v),g=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),w=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return y.call(r),r.state={opts:!1,recomm:!1,title:"",comment:"",showComment:!1},r}return l(t,e),g(t,[{key:"toggleRecomm",value:function(){var e=this.state.recomm;this.setState({recomm:!e})}},{key:"commentFocus",value:function(){this.setState({showComment:!0})}},{key:"cancelComment",value:function(){this.setState({title:"",comment:"",showComment:!1})}},{key:"titleChange",value:function(e){this.setState({title:e.target.value})}},{key:"commentChange",value:function(e){this.setState({comment:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.recomm,r=this.props,a=r.dataState,n=a.details.latest;return n?i.createElement(i.Fragment,null,i.createElement("div",{className:"latest-details"},i.createElement("div",{className:"poster pulsing-load"},n.poster&&"N/A"!==n.poster?i.createElement("img",{alt:"Poster",src:n.poster}):i.createElement("img",{alt:"Poster",src:E.a})),i.createElement("div",{className:"info"},i.createElement("span",{className:"title"},n.eng_title),i.createElement("span",{className:"orig-title"},null===n.orig_title||""===n.orig_title||"N/A"===n.orig_title||"null"===n.orig_title||n.eng_title===n.orig_title?"":n.orig_title+" (original title)"),i.createElement("span",{className:"misc"},"Year: ",n.year,i.createElement("br",null),"Runtime: ",n.runtime||"N/A",i.createElement("br",null),n.director?"Director: "+(n.director||"N/A"):"Creator: "+(n.creator||"N/A"),i.createElement("br",null),"Stars: ",n.stars||"N/A"),i.createElement("div",{className:"actions"},i.createElement("div",{className:"watch-later",title:"Watch later",onClick:function(t){return e.props.watchLaterDispatch(n.id)}}),i.createElement("div",{className:"recomm",title:"Recommend to friends",onClick:function(t){return e.toggleRecomm()}}),i.createElement("a",{target:"_blank",rel:"noopener noreferrer",title:"Search for subtitles on Subscene",href:"https://subscene.com/subtitles/title?q='"+n.eng_title.replace(" ","+")},i.createElement("img",{src:m.a,alt:"Closed Caption"})),t&&i.createElement("ul",{className:t?"fade-in":""},this.friends(n.id)))),i.createElement("div",{className:"plot"},i.createElement("div",{className:"plot-txt"},n.plot||"Plot unavailable."),i.createElement("div",{className:"sites"},i.createElement("a",{target:"_blank",rel:"noopener noreferrer",title:"Search on IMDB",href:n.imdb?"http://www.imdb.com/title/"+n.imdb:"https://www.imdb.com/find?ref_=nv_sr_fn&q="+n.eng_title.replace(" ","+")},i.createElement("img",{src:p.a,className:"imdb",alt:"IMDB Link"})),i.createElement("a",{target:"_blank",rel:"noopener noreferrer",title:"Search on Douban",href:n.douban?"https://movie.douban.com/subject/"+n.douban:"https://movie.douban.com/subject_search?search_text="+n.eng_title.replace(" ","+")},i.createElement("img",{src:d.a,className:"douban",alt:"Douban Link"})),i.createElement("a",{target:"_blank",rel:"noopener noreferrer",title:"Search on Mtime",href:n.mtime?"http://movie.mtime.com/"+n.mtime:"http://search.mtime.com/search/?q="+n.eng_title},i.createElement("img",{src:b.a,className:"mtime",alt:"Mtime Link"}))))),n.trailer?i.createElement("div",{className:"latest-trailer"},i.createElement("iframe",{title:"trailer",width:"224",height:"125",frameBorder:"0",allowFullScreen:!0,src:"https://www.youtube.com/embed/"+n.trailer+"?rel=0&amp;showinfo=0"}),i.createElement("iframe",{title:"featurette",width:"224",height:"125",frameBorder:"0",allowFullScreen:!0,src:"https://www.youtube.com/embed/"+n.featurette+"?rel=0&amp;showinfo=0"})):i.createElement("div",{className:"no-vid-latest"},"No videos")):""}}]),t}(i.Component),y=function(){var e=this;this.friends=function(t){var r=e.props,a=r.loginState,n=[];return a.friends.forEach(function(a,l){n.push(i.createElement("li",{key:a.email,onClick:function(n){r.recommDispatch(t,a.email),e.toggleRecomm()}},a.name,"\xa0(",i.createElement("span",null,a.email),")"))}),n}},N=function(e){return{loginState:e.loginReducer,dataState:e.dataReducer}},k=function(e){return{watchLaterDispatch:function(t){return e(Object(c.i)(t))},recommDispatch:function(t,r){return e(Object(c.g)(t,r))}}};t.a=Object(o.b)(N,k)(w)},190:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=r(0),o=(r.n(i),r(5)),c=r(51),s=r(186),m=r.n(s),u=r(177),p=r.n(u),f=r(178),d=r.n(f),h=r(179),b=r.n(h),v=r(185),E=r.n(v),g=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),w=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return y.call(r),r.state={opts:!1,recomm:!1,title:"",comment:"",showComment:!1},r}return l(t,e),g(t,[{key:"toggleRecomm",value:function(){var e=this.state.recomm;this.setState({recomm:!e})}},{key:"render",value:function(){var e=this,t=this.state.recomm,r=this.props,a=r.dataState,n=a.details.recomm;return n?i.createElement(i.Fragment,null,i.createElement("div",{className:"recomm-details"},i.createElement("div",{className:"poster"},n.poster&&"N/A"!==n.poster?i.createElement("img",{alt:"Poster",src:n.poster}):i.createElement("img",{alt:"Poster",src:E.a})),i.createElement("div",{className:"info"},i.createElement("div",{className:"details-wrap"},i.createElement("span",{className:"title"},n.eng_title),i.createElement("span",{className:"orig-title"},null===n.orig_title||""===n.orig_title||"N/A"===n.orig_title||n.eng_title===n.orig_title?"":n.orig_title+" (original title)"),i.createElement("span",{className:"misc"},"Year: ",n.year,i.createElement("br",null),"Runtime: ",n.runtime||"N/A",i.createElement("br",null),n.director?"Director: "+(n.director||"N/A"):"Creator: "+(n.creator||"N/A"),i.createElement("br",null),"Stars: ",n.stars||"N/A"),i.createElement("div",{className:"actions"},i.createElement("div",{className:"watch-later",title:"Watch later",onClick:function(t){return e.props.watchLaterDispatch(n.id)}}),i.createElement("div",{className:"recomm",title:"Recommend to friends",onClick:function(t){return e.toggleRecomm()}}),i.createElement("a",{target:"_blank",rel:"noopener noreferrer",title:"Search for subtitles on Subscene",href:"https://subscene.com/subtitles/title?q="+n.eng_title.replace(" ","+")},i.createElement("img",{src:m.a,alt:"CC"})),t&&i.createElement("ul",{className:t?"fade-in":""},this.friends(n.id)))),i.createElement("div",{className:"plot-txt"},n.plot||"Plot unavailable."),i.createElement("div",{className:"sites"},i.createElement("a",{target:"_blank",rel:"noopener noreferrer",title:"Search on IMDB",href:n.imdb?"http://www.imdb.com/title/"+n.imdb:"https://www.imdb.com/find?ref_=nv_sr_fn&q="+n.eng_title.replace(" ","+")},i.createElement("img",{src:p.a,className:"imdb",alt:"IMDB Link"})),i.createElement("a",{target:"_blank",rel:"noopener noreferrer",title:"Search on Douban",href:n.douban?"https://movie.douban.com/subject/"+n.douban:"https://movie.douban.com/subject_search?search_text="+n.eng_title.replace(" ","+")},i.createElement("img",{src:d.a,className:"douban",alt:"Douban Link"})),i.createElement("a",{target:"_blank",rel:"noopener noreferrer",title:"Search on Mtime",href:n.mtime?"http://movie.mtime.com/"+n.mtime:"http://search.mtime.com/search/?q="+n.eng_title},i.createElement("img",{src:b.a,className:"mtime",alt:"Mtime Link"})))),n.trailer?i.createElement("div",{className:"recomm-trailer"},i.createElement("iframe",{title:"trailer",width:"350",height:"47.3%",src:"https://www.youtube.com/embed/"+n.trailer+"?rel=0&amp;showinfo=0",frameBorder:"0",allowFullScreen:!0}),i.createElement("iframe",{title:"featurette",width:"350",height:"47.3%",src:"https://www.youtube.com/embed/"+n.featurette+"?rel=0&amp;showinfo=0",frameBorder:"0",allowFullScreen:!0})):i.createElement("div",{className:"no-vid-recomm"},"No videos"))):""}}]),t}(i.Component),y=function(){var e=this;this.friends=function(t){var r=e.props,a=r.loginState,n=[];return a.friends.forEach(function(e,a){n.push(i.createElement("li",{key:e.email,onClick:function(a){return r.recommDispatch(t,e.email)}},e.name,"\xa0(",i.createElement("span",null,e.email),")"))}),n}},N=function(e){return{loginState:e.loginReducer,dataState:e.dataReducer}},k=function(e){return{watchLaterDispatch:function(t){return e(Object(c.i)(t))},recommDispatch:function(t,r){return e(Object(c.g)(t,r))}}};t.a=Object(o.b)(N,k)(w)},191:function(e,t,r){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=r(0),o=(r.n(i),r(5)),c=r(53),s=r(51),m=r(185),u=r.n(m),p=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),f=function(e){function t(e){a(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.showSlide=function(e){r.setState({currPage:e})},r.slides=function(){for(var e=r.props.dataRef,t=r.props.ipp,a={width:r.props.vertical?"100%":"calc("+100/t+"% - 20px)"},n=[],l=[],o=0;o<Math.ceil(e.length/t);o++){for(var c=0;c<t;c++)!function(n){var c=e[n+o*t];c&&l.push(i.createElement("div",{className:"slide",key:n+o*t,style:a},i.createElement("div",{className:"poster pulsing-load",onClick:function(e){return r.loadDetails(c.id,r.props.list,!r.props.link)}},r.props.del&&i.createElement("div",{className:"del-item",title:"Remove from the list",onClick:function(e){return r.delItem(e,c.id)}}),r.props.link&&i.createElement("div",{onClick:function(e){e.stopPropagation(),r.loadDetails(c.id,"main",!0)},className:"link",title:"Open full details"}),c.poster&&"N/A"!==c.poster?i.createElement("img",{alt:"Poster",src:c.poster}):i.createElement("img",{alt:"Poster",src:u.a})),r.props.info&&i.createElement("div",{className:"info"},i.createElement("div",{className:"title"},c.eng_title),i.createElement("div",{className:"details"},c.director||c.creator||c.prod,i.createElement("span",{className:"year"},"2018",c.year)))))}(c);n.push(r.state.currPage===o&&i.createElement("div",{className:r.state.currPage===o?"slides fade-in":"slides",key:o},l)),l=[]}return n},r.dots=function(){for(var e=[],t=0;t<Math.ceil(r.props.dataRef.length/r.props.ipp);t++)!function(t){e.push(i.createElement("span",{className:r.state.currPage===t?"currDot":"",onClick:function(e){return r.showSlide(t)},key:t}))}(t);return i.createElement("div",{className:"dots"},e)},r.state={currPage:0},r.intervalId=null,e.load&&e.loadDetailsDispatch(e.dataRef[0].id,e.list),r}return l(t,e),p(t,[{key:"componentDidMount",value:function(){var e=this;this.props.carousel&&(this.intervalId=setInterval(function(t){clearInterval(t),e.state.currPage<Math.ceil(e.props.dataRef.length/e.props.ipp)-1?e.showSlide(e.state.currPage+1):e.showSlide(0)},5e3))}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalId)}},{key:"delItem",value:function(e,t){e.preventDefault(),this.props.removeHomeListItemDispatch(this.props.list,t)}},{key:"loadDetails",value:function(e,t,r){this.props.loadDetailsDispatch(e,t),r&&(window.location.hash="#/main/details/"+e)}},{key:"render",value:function(){return i.createElement("div",{className:"slide-list"},this.slides(),this.dots())}}]),t}(i.Component),d=function(e){return{loadDetailsDispatch:function(t,r){return e(Object(s.f)(t,r,!1))},removeHomeListItemDispatch:function(t,r){return e(Object(c.d)(t,r))}}};t.a=Object(o.b)(null,d)(f)}});
//# sourceMappingURL=2.fb27a128.chunk.js.map